{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block nav %}
    {% if user.is_authenticated %}
        {% include 'logged_nav.html' %}
    {% else %}
        {% include 'non_logged_nav.html' %}
    {% endif %}
{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center bg-gray-50 px-4">
    <div class="bg-white rounded-2xl shadow-lg p-8 md:p-10 w-full max-w-2xl text-center space-y-6">

        <h1 class="text-3xl font-bold text-blue-600">
            Welcome, <span class="text-gray-800">{{ user.first_name|default:user.username }}</span>
        </h1>

        <div class="text-gray-700 text-base leading-relaxed">
            {% if user.is_superuser or user_role == 'admin' %}
                <p>You are an <span class="font-semibold text-blue-700">Admin</span>.  
                You can manage users, roles, and events.</p>
            {% elif user_role == 'organizer' %}
                <p>You are an <span class="font-semibold text-green-700">Organizer</span>.  
                You can manage events and categories.</p>
            {% elif user_role == 'participant' %}
                <p>You are a <span class="font-semibold text-yellow-700">Participant</span>.  
                You can RSVP and view events.</p>
            {% else %}
                <p>You are not logged in. Please <a href="{% url 'login' %}" class="underline text-red-600 hover:text-red-800">log in</a> to use this website.</p>
            {% endif %}
        </div>

        {% if user.is_authenticated %}
        <div class="flex flex-col sm:flex-row justify-center gap-3 pt-4">
            <a href="{% url 'edit_profile' %}" 
               class="px-5 py-2.5 rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 transition">
                Edit Profile
            </a>
            <a href="{% url 'change_password' %}" 
               class="px-5 py-2.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition">
                Change Password
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
